(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{317:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"spl_token_registry","instructions":[{"name":"initialize","accounts":[{"name":"pendingTokensAccount","isMut":true,"isSigner":false},{"name":"votingTokenMint","isMut":false,"isSigner":false},{"name":"user","isMut":false,"isSigner":true},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"seeds","type":{"defined":"Seeds"}}]},{"name":"propose","accounts":[{"name":"pendingTokensAccount","isMut":true,"isSigner":false}],"args":[{"name":"tokenInfo","type":{"defined":"TokenInfo"}}]},{"name":"voteFor","accounts":[{"name":"pendingTokensAccount","isMut":true,"isSigner":false},{"name":"voterTokenAccount","isMut":true,"isSigner":false},{"name":"user","isMut":false,"isSigner":true},{"name":"votingTokenMint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"mintAddress","type":"publicKey"}]},{"name":"withdrawVotingBalace","accounts":[{"name":"pendingTokensAccount","isMut":true,"isSigner":false},{"name":"voterTokenAccount","isMut":true,"isSigner":false},{"name":"user","isMut":false,"isSigner":true},{"name":"votingTokenMint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"checkVote","accounts":[{"name":"pendingTokensAccount","isMut":true,"isSigner":false},{"name":"accountToCreate","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":true},{"name":"votingTokenMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"mintAddress","type":"publicKey"}]},{"name":"cleanup","accounts":[{"name":"pendingTokensAccount","isMut":true,"isSigner":false},{"name":"votingTokenMint","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"TokenInfoAccount","type":{"kind":"struct","fields":[{"name":"tokenInfo","type":{"defined":"TokenInfo"}}]}},{"name":"PendingTokenInfos","type":{"kind":"struct","fields":[{"name":"pendingTokenInfos","type":{"vec":{"defined":"PendingTokenInfo"}}},{"name":"votingTokenMint","type":"publicKey"}]}}],"types":[{"name":"Seeds","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"seed","type":{"array":["u8",19]}}]}},{"name":"TokenInfo","type":{"kind":"struct","fields":[{"name":"mintAddress","type":"publicKey"},{"name":"tokenName","type":"string"},{"name":"tokenSymbol","type":"string"},{"name":"tokenImageUrl","type":"string"},{"name":"tags","type":{"vec":"string"}}]}},{"name":"PendingTokenInfo","type":{"kind":"struct","fields":[{"name":"tokenInfo","type":{"defined":"TokenInfo"}},{"name":"expiration","type":"i64"},{"name":"votes","type":"i64"},{"name":"contributors","type":{"vec":"publicKey"}}]}}],"errors":[{"code":300,"name":"AddressAlreadyPending","msg":"Token already has a pending vote."},{"code":301,"name":"TokenNotFound","msg":"Token not found."},{"code":302,"name":"AccountAlreadyVoted","msg":"Account has already contributed to this vote."},{"code":303,"name":"AccountStillVoting","msg":"Account still contributing to in progress vote."}],"metadata":{"address":"ru5MV6sy97YYhGx3WZjWV8jSzWaBShWyoofoapcqypz"}}')},334:function(e,n,t){},335:function(e,n){},337:function(e,n){},352:function(e,n){},353:function(e,n){},411:function(e,n){},413:function(e,n){},425:function(e,n){},430:function(e,n){},432:function(e,n){},442:function(e,n){},444:function(e,n){},471:function(e,n){},473:function(e,n){},478:function(e,n){},480:function(e,n){},487:function(e,n){},499:function(e,n){},502:function(e,n){},509:function(e,n){},528:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),c=t(48),a=t.n(c),i=(t(334),t(10)),s=t(4),u=t(7),l=[{label:"mainnet",value:"https://api.mainnet-beta.solana.com",programId:new s.PublicKey("ru5MV6sy97YYhGx3WZjWV8jSzWaBShWyoofoapcqypz")},{label:"devnet",value:"https://api.devnet.solana.com",programId:new s.PublicKey("ru5MV6sy97YYhGx3WZjWV8jSzWaBShWyoofoapcqypz"),votingTokenMint:new s.PublicKey("J68Fquq5EQ4hnYPEo68DWC6bbxBGPQUDqMFmFV5nhCrj")},{label:"testnet",value:"https://api.testnet.solana.com",programId:new s.PublicKey("ru5MV6sy97YYhGx3WZjWV8jSzWaBShWyoofoapcqypz"),votingTokenMint:new s.PublicKey("J68Fquq5EQ4hnYPEo68DWC6bbxBGPQUDqMFmFV5nhCrj")},{label:"localnet",value:"http://127.0.0.1:8899",programId:new s.PublicKey("ru5MV6sy97YYhGx3WZjWV8jSzWaBShWyoofoapcqypz"),votingTokenMint:new s.PublicKey("517PfUgFP3f52xHQzjjBfbTTCSmSVPzo5JeeiQEE9KWs")}],d=o.a.createContext(null);function p(e){var n=e.children,t=Object(r.useState)(l[1]),o=Object(i.a)(t,2),c=o[0],a=o[1],p=Object(r.useMemo)((function(){return new s.Connection(c.value,"recent")}),[c]);return Object(u.jsx)(d.Provider,{value:{environment:c,setEnvironment:a,connection:p},children:n})}function f(){var e=Object(r.useContext)(d);if(!e)throw new Error("Missing connection context");return e}var b=t(530),m=t(29),g=o.a.createContext(null);function h(e){var n=e.children,t=f(),o=Object(m.b)(),c=Object(r.useState)(null),a=Object(i.a)(c,2),s=a[0],l=a[1];Object(r.useEffect)((function(){return l(null),function(){}}),[o,t]);var d=s&&Object(u.jsx)(b.a,{style:{marginBottom:"10px"},message:"Error",description:s.toString(),type:"error",showIcon:!0});return Object(u.jsx)(g.Provider,{value:{setError:l,styledError:d},children:n})}function j(){var e=Object(r.useContext)(g);return[e.styledError,e.setError]}var x,v,O,k=t(323),y=t(157),w=t(205),S=t(30),T=t(35),I=t(39),M={green:"rgb(65, 199, 122)",red:"rgb(242, 59, 105)",border:"1px solid rgb(64,73,78)",borderColor:"rgb(64,73,78)",darkBlue:"rgb(26, 32, 41)",lightGray:"rgba(255,255,255,0.6)",white:"hsla(0,0%,100%,.85)",headerColor:"hsla(0,0%,100%,.08)",lightBlue:"#90caf9",btnDisabled:"hsla(0,0%,100%,.2)"},A=t(1),P=t.n(A),B=t(3),N=(I.a.div(x||(x=Object(T.a)(["\n  color: ",";\n  text-decoration: none;\n  margin: 10px 0px;\n  padding: 5px;\n  border: ",";\n  border-radius: 9999px;\n  text-align: center;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ",";\n  width: ",";\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.disabled?M.btnDisabled:M.white}),M.border,M.btnDisabled,(function(e){return e.width||"100px"})),I.a.div(v||(v=Object(T.a)(["\n  color: ",";\n  margin: 20px 0px 20px 0px;\n  border: 1px solid ",";\n  border-radius: 9999px;\n  text-align: center;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  width: ",";\n  justify-content: center;\n  padding: 5px 8px;\n  background: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n    transition: .1s all;\n  }\n"])),(function(e){return e.disabled?M.btnDisabled:M.white}),M.white,(function(e){return e.width||"100px"}),M.btnDisabled,(function(e){return e.disabled?M.btnDisabled:M.headerColor}))),E=I.a.div(O||(O=Object(T.a)(["\n  position: absolute;\n  top: 10px;\n  right: 3%;\n  margin: 10px 0px 10px 0px;\n  border: 1px solid ",";\n  border-radius: 9999px;\n  text-align: center;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  width: 30px;\n  justify-content: center;\n  background: ",";\n  transition: .1s all;\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  svg {\n    height: 20px;\n    width: 20px;\n    vertical-align: middle;\n    margin: 5px;\n    path {\n      fill: ",";\n      stroke: ",";\n      stroke-width: .3px;\n    }\n  }\n"])),M.white,(function(e){return e.selected?M.lightGray:"none"}),M.lightGray,(function(e){return e.selected?M.white:"none"}),M.white),C=t(25),K=t(41),V=t(317),F="pending_token_infos",W={preflightCommitment:"processed"};function z(e,n){return _.apply(this,arguments)}function _(){return(_=Object(B.a)(P.a.mark((function e(n,t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.PublicKey.findProgramAddress([n.toBuffer(),K.b.toBuffer(),t.toBuffer()],K.a);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,n){return R.apply(this,arguments)}function R(){return(R=Object(B.a)(P.a.mark((function e(n,t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new K.c(n.connection,n.environment.votingTokenMint,K.b,null),e.next=3,r.getAccountInfo(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return L.apply(this,arguments)}function L(){return(L=Object(B.a)(P.a.mark((function e(n){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new K.c(n.connection,n.environment.votingTokenMint,K.b,null),e.next=3,t.getMintInfo();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return q.apply(this,arguments)}function q(){return(q=Object(B.a)(P.a.mark((function e(n){var t,r,o,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Getting pending token infos PDA address for program ".concat(n," and seed ").concat(F)),e.next=3,s.PublicKey.findProgramAddress([C.d.bytes.utf8.encode(F)],n);case 3:return t=e.sent,r=Object(i.a)(t,2),o=r[0],c=r[1],e.abrupt("return",[o,c]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(B.a)(P.a.mark((function e(n,t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return e.next=4,z(n.publicKey,t.environment.votingTokenMint);case 4:return r=e.sent,e.next=7,n.sendTransaction((new s.Transaction).add(K.c.createAssociatedTokenAccountInstruction(K.a,K.b,t.environment.votingTokenMint,r,n.publicKey,n.publicKey)),t.connection);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(B.a)(P.a.mark((function e(n,t){var r,o,c,a,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return r=new C.b(t.connection,n,W),o=C.e.Keypair.generate(),e.next=6,t.connection.requestAirdrop(o.publicKey,4*s.LAMPORTS_PER_SOL);case 6:return c=e.sent,e.next=9,t.connection.confirmTransaction(c);case 9:return e.next=11,K.c.createMint(r.connection,o,o.publicKey,o.publicKey,2,K.b);case 11:return a=e.sent,console.log("Mint created",a.publicKey.toBase58()),e.next=15,a.createAssociatedTokenAccount(r.wallet.publicKey);case 15:return i=e.sent,e.next=18,a.mintTo(i,o,[],1e3);case 18:return console.log("Account ".concat(i.toBase58()," received 1000 voting tokens mint ").concat(a.publicKey.toBase58())),e.abrupt("return",a.publicKey);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(B.a)(P.a.mark((function e(n,t){var r,o,c,a,u,l,d,p,f,b;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return r=new C.b(t.connection,n,W),o=new C.a(V,t.environment.programId,r),e.next=6,Y(t.environment.programId);case 6:if(c=e.sent,a=Object(i.a)(c,2),u=a[0],l=a[1],d=C.e.Keypair.generate(),t.environment.votingTokenMint){e.next=28;break}return e.next=14,t.connection.requestAirdrop(d.publicKey,4*s.LAMPORTS_PER_SOL);case 14:return p=e.sent,e.next=17,t.connection.confirmTransaction(p);case 17:return e.next=19,K.c.createMint(r.connection,d,d.publicKey,d.publicKey,2,K.b);case 19:return f=e.sent,t.environment.votingTokenMint=f.publicKey,console.log("Mint created",t.environment.votingTokenMint),e.next=24,f.createAssociatedTokenAccount(r.wallet.publicKey);case 24:return b=e.sent,e.next=27,f.mintTo(b,d,[],1e3);case 27:console.log("Account (".concat(b.toBase58()," received 1000 voting tokens"));case 28:return e.abrupt("return",o.rpc.initialize({seed:C.d.bytes.utf8.encode(F),bump:l},{accounts:{pendingTokensAccount:u,user:r.wallet.publicKey,votingTokenMint:t.environment.votingTokenMint,tokenProgram:K.b,rent:C.e.SYSVAR_RENT_PUBKEY,systemProgram:C.e.SystemProgram.programId}}));case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,n,t){return H.apply(this,arguments)}function H(){return(H=Object(B.a)(P.a.mark((function e(n,t,r){var o,c,a,s,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return o=new C.b(t.connection,n,W),c=new C.a(V,t.environment.programId,o),e.next=6,Y(t.environment.programId);case 6:return a=e.sent,s=Object(i.a)(a,2),u=s[0],s[1],e.next=12,c.rpc.propose(r,{accounts:{pendingTokensAccount:u}});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,n,t,r){return ee.apply(this,arguments)}function ee(){return(ee=Object(B.a)(P.a.mark((function e(n,t,r,o){var c,a,s,u,l,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return c=new C.b(t.connection,n,W),a=new C.a(V,t.environment.programId,c),e.next=6,Y(t.environment.programId);case 6:return s=e.sent,u=Object(i.a)(s,2),l=u[0],u[1],e.next=12,z(c.wallet.publicKey,t.environment.votingTokenMint);case 12:return d=e.sent,e.abrupt("return",a.rpc.voteFor(r,{accounts:{pendingTokensAccount:l,voterTokenAccount:d,user:c.wallet.publicKey,votingTokenMint:o,tokenProgram:K.b}}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(B.a)(P.a.mark((function e(n){var t,r,o,c,a,s,u,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(n.environment.programId);case 2:return t=e.sent,r=Object(i.a)(t,2),o=r[0],r[1],c=new C.b(n.connection,null,W),a=new C.a(V,n.environment.programId,c),e.next=10,n.connection.getProgramAccounts(n.environment.programId);case 10:return s=e.sent,u=s.filter((function(e){var n=e.pubkey;e.account;return n.toBase58()!==o.toBase58()})),e.next=14,Promise.all(u.map(function(){var e=Object(B.a)(P.a.mark((function e(n){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.account.tokenInfoAccount.fetch(n.pubkey);case 3:return t=e.sent,e.abrupt("return",t.tokenInfo);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error fetching account ".concat(n.pubkey,": ").concat(e.t0)),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()));case 14:return l=e.sent,e.abrupt("return",l.filter((function(e){return null!=e})));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return(re=Object(B.a)(P.a.mark((function e(n){var t,r,o,c,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(n.environment.programId);case 2:return t=e.sent,r=Object(i.a)(t,2),o=r[0],r[1],c=new C.b(n.connection,null,W),a=new C.a(V,n.environment.programId,c),e.next=10,a.account.pendingTokenInfos.fetch(o);case 10:return s=e.sent,console.log(s.votingTokenMint.toBase58()),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,n,t,r){return ce.apply(this,arguments)}function ce(){return(ce=Object(B.a)(P.a.mark((function e(n,t,r,o){var c,a,s,u,l,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return c=new C.b(t.connection,n,W),a=new C.a(V,t.environment.programId,c),e.next=6,Y(t.environment.programId);case 6:return s=e.sent,u=Object(i.a)(s,2),l=u[0],u[1],d=C.e.Keypair.fromSeed(r.toBytes()),e.abrupt("return",a.rpc.checkVote(r,{accounts:{pendingTokensAccount:l,accountToCreate:d.publicKey,user:a.provider.wallet.publicKey,votingTokenMint:o,systemProgram:C.e.SystemProgram.programId},signers:[d]}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,n,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(B.a)(P.a.mark((function e(n,t,r){var o,c,a,s,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connected){e.next=2;break}throw Error("Wallet not connected");case 2:return o=new C.b(t.connection,n,W),c=new C.a(V,t.environment.programId,o),e.next=6,Y(t.environment.programId);case 6:return a=e.sent,s=Object(i.a)(a,2),u=s[0],s[1],e.next=12,c.rpc.cleanup({accounts:{pendingTokensAccount:u,votingTokenMint:r}});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=t(327);function ue(e){var n=e.message,t=e.description,r=e.txid,o=e.type,c=void 0===o?"info":o,a=e.placement,i=void 0===a?"topRight":a;se.a[c]({message:Object(u.jsx)("span",{children:n}),description:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:t}),r&&Object(u.jsxs)("a",{rel:"noreferrer",target:"_blank",href:"https://explorer.solana.com/tx/"+r,children:["View transaction ",r.slice(0,8),"...",r.slice(r.length-8)]})]}),placement:i})}function le(){var e=Object(m.b)(),n=f(),t=function(){var e=Object(m.b)(),n=f(),t=Object(r.useState)(null),o=Object(i.a)(t,2),c=o[0],a=o[1];return Object(r.useEffect)((function(){return function(){var t=Object(B.a)(P.a.mark((function t(){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&e.connected&&n.environment.votingTokenMint)){t.next=5;break}return t.next=3,z(e.publicKey,n.environment.votingTokenMint);case 3:r=t.sent,D(n,r).then((function(e){return a(e.amount.toNumber())})).catch((function(e){console.log(e),a(-1)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){}}),[e,n]),c}();return e&&e.connected&&null!=t?n.environment.votingTokenMint?t<0?Object(u.jsx)(N,{style:{width:"auto",margin:"0px 10px"},onClick:function(){return function(e,n){return U.apply(this,arguments)}(e,n).then((function(e){return ue({message:"Succes",description:"Voting token account created",txid:e.toBase58()})})).catch((function(e){return console.log(e)}))},children:"No Voting Account (init)"}):Object(u.jsxs)("div",{id:"voting-power",children:["Voting Power: ",t," STRVC"]}):Object(u.jsx)(N,{style:{width:"auto",margin:"0px 10px"},onClick:function(){return function(e,n){return J.apply(this,arguments)}(e,n).then((function(e){return ue({message:"Succes",description:"Mint created",txid:e.toBase58()})})).catch((function(e){return console.log(e)}))},children:"No Voting Mint (init)"}):Object(u.jsx)(u.Fragment,{})}var de,pe,fe=t(324),be=Object(I.a)(fe.a)(de||(de=Object(T.a)(["\n  width: 100%;\n  div {\n    color: ",";\n    background: ",";\n    border-color: ",";\n  }\n"])),M.white,M.darkBlue,M.lightGray),me=Object(I.a)(be)(pe||(pe=Object(T.a)(["\n  margin: 0px 20px;\n  width: 100px;\n"])));function ge(){var e=f(),n=e.environment,t=e.setEnvironment;return Object(u.jsx)("div",{children:Object(u.jsx)(me,{options:l,onChange:function(e){return t(e)},value:n,placeholder:"Endpoint..."})})}var he,je,xe,ve=function(e){var n=e.setLoading,t=j(),o=Object(i.a)(t,2),c=(o[0],o[1]),a=Object(m.b)(),s=f(),l=Object(r.useState)(!0),d=Object(i.a)(l,2),p=d[0],b=d[1];return Object(r.useEffect)((function(){return function(){var e=Object(B.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,te(s).catch((function(e){e&&b(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[a,s]),p?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(N,{style:{margin:"0px 10px"},disabled:!a||!a.connected,onClick:Object(B.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(null),n(!0),e.next=5,Q(a,s);case 5:ue({message:"Succes",description:"Token governance program initialized",txid:e.sent}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c("".concat(e.t0));case 12:return e.prev=12,n(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),children:"Init Program"})},Oe=I.a.div(he||(he=Object(T.a)(["\n  width: 96%;\n  margin: 0px auto;\n  height: 60px;\n  position: sticky;\n  // background: ",";\n  color: ",";\n  padding: 10px 2%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 10px;\n\n  #left {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  #right {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  #logo {\n    height: 30px;\n  }\n\n  #logo-text {\n    padding-left: 10px;\n    font-size: 20px;\n    font-family: 'Karla', sans-serif;\n  }\n\n  #voting-power {\n    margin-left: 20px;\n    border: 1px solid ",";\n    border-radius: 10px;\n    background: ",";\n    padding: 4px 8px;\n  }\n"])),M.darkBlue,M.white,M.borderColor,M.darkBlue),ke=I.a.a(je||(je=Object(T.a)(["\n  color: ",";\n  margin: 20px;\n  transition: .1s all;\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.selected?M.white:M.lightGray}),M.white);!function(e){e[e.FIND=0]="FIND",e[e.VOTE=1]="VOTE",e[e.PROPOSE=2]="PROPOSE"}(xe||(xe={}));var ye,we=Object(S.f)((function(e){var n=e.history,t=e.children,r=e.selected,o=j(),c=Object(i.a)(o,2),a=(c[0],c[1]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Oe,{children:[Object(u.jsxs)("div",{id:"left",children:[Object(u.jsx)("img",{id:"logo",src:"assets/logo2.png",alt:"SPL Token Names"}),Object(u.jsx)("span",{id:"logo-text",children:"SPL TOKEN REGISTRY"}),Object(u.jsx)(le,{}),Object(u.jsx)(ve,{setLoading:function(){}})]}),Object(u.jsxs)("div",{id:"right",children:[Object(u.jsx)(ke,{selected:r===xe.FIND,onClick:function(){a(null),n.push("/")},children:"FIND"}),Object(u.jsx)(ke,{selected:r===xe.VOTE,onClick:function(){a(null),n.push("/vote")},children:"VOTE"}),Object(u.jsx)(ke,{selected:r===xe.PROPOSE,onClick:function(){a(null),n.push("/propose")},children:"PROPOSE"}),Object(u.jsx)(y.b,{style:{fontSize:"14px",height:"35px"}}),Object(u.jsx)(ge,{})]})]}),t]})})),Se=t(2),Te=t(8),Ie=t(11),Me=t(13),Ae=function(e){Object(Ie.a)(t,e);var n=Object(Me.a)(t);function t(e){var r;return Object(Se.a)(this,t),(r=n.call(this,e)).state={error:null,errorInfo:null},r}return Object(Te.a)(t,[{key:"componentDidCatch",value:function(e,n){console.warn(e,n),this.setState({error:e,errorInfo:n})}},{key:"render",value:function(){return this.state.errorInfo?Object(u.jsx)(b.a,{message:"Error",description:this.state.error&&this.state.error.toString(),type:"error",showIcon:!0}):this.props.children}}]),t}(o.a.Component),Pe=t(14);function Be(e){var n=e.loading,t=e.children;return n?Object(u.jsx)("div",{style:{textAlign:"center",padding:"50px",margin:"0px auto"},children:Object(u.jsxs)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40",xmlSpace:"preserve",children:[Object(u.jsx)("path",{opacity:"0.2",fill:"#fff",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),Object(u.jsx)("path",{fill:"#fff",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z",children:Object(u.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})})]})}):t}var Ne,Ee=I.a.div(ye||(ye=Object(T.a)(["\n  width: 100%;\n  max-width: 1024px;\n  padding: 0px 20px;\n  margin: 0px auto;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n"]))),Ce=I.a.div(Ne||(Ne=Object(T.a)(["\n  display: flex;\n  color: ",";\n  margin: 50px 30px;\n  border-radius: 40px;\n  transition: .2s all;\n  position: relative;\n  // &:hover {\n  //   background: ",";\n  //   cursor: pointer;\n  //   transform: scale(1.005);\n  // }\n\n  .image { \n    img {\n      width: 180px;\n      height: 180px;\n      border-radius: 50%;\n      border: ",";\n      object-fit: cover;\n      background: ",";\n    }\n  }\n\n  .title {\n    font-size: 18px;\n    margin-bottom: 6px;\n  }\n\n  .info {\n    height: 100%;\n    flex-grow: 2;\n    padding: 10px 30px;\n  }\n\n  .symbol {\n    color: ",";\n    max-width: 90%;\n  }\n\n  .address {\n    margin-top: 10px;\n    color: ",";\n    max-width: 90%;\n  }\n\n  .tags {\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n    font-size: 12px;\n    color: ",";\n\n    .tag {\n      border: ",";\n      border-radius: 16px;\n      padding: 5px 10px;  \n      margin: 5px;\n      transition: .1s all;\n      &:hover {\n        background: "," !important;\n        color: "," !important;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .expiration {\n    position: absolute;\n    right: 30px;\n    bottom: 50px;\n    color: ",";\n  }\n\n  .buttons {\n    display: flex;\n    gap: 10px;\n  }\n\n  .progress-outer {\n    width: 100%;\n    height: 20px;\n    border: ",";\n    border-radius: 16px;\n    overflow: hidden;\n    background: ",";\n    position: relative;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    .text {\n      height: 100%;\n      width: 100%;\n      position: absolute;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .progress {\n      height: 100%;\n      width: 100%;\n      position: absolute;\n      background: ",";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n  }\n"])),M.white,M.darkBlue,M.border,M.darkBlue,M.lightGray,M.lightGray,M.lightGray,M.border,M.darkBlue,M.lightGray,M.lightGray,M.border,M.darkBlue,M.green);function Ke(e,n){var t=f(),o=Object(r.useState)([]),c=Object(i.a)(o,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){var r=setInterval((function(){t&&function(e){return ne.apply(this,arguments)}(t).then((function(e){s(e)})).catch((function(e){n(e),s([])})).finally((function(){return e(!1)}))}),1e3);return function(){return clearInterval(r)}}),[t,n,e]),Object(r.useEffect)((function(){return e(!0),function(){}}),[t,e]),a}var Ve=function(){var e=Object(r.useState)(!0),n=Object(i.a)(e,2),t=n[0],o=n[1],c=j(),a=Object(i.a)(c,2),s=a[0],l=Ke(o,a[1]),d=Object(r.useState)([]),p=Object(i.a)(d,2),f=p[0],b=p[1],m=Object(r.useState)([]),g=Object(i.a)(m,2),h=g[0],x=g[1],v=f.length>0?l.filter((function(e){return f.some((function(n){return e.tags.includes(n)}))})):l,O=Object(Pe.a)(v).sort((function(e,n){return h.includes(e.mintAddress.toBase58())&&h.includes(n.mintAddress.toBase58())?0:h.includes(e.mintAddress.toBase58())?-1:h.includes(n.mintAddress.toBase58())?1:0}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Ee,{children:[s,Object(u.jsx)(be,{isMulti:!0,options:Array.from(l.reduce((function(e,n){return n.tags.forEach(e.add,e),e}),new Set)).map((function(e){return{label:e,value:e}})),onChange:function(e){return b(e.map((function(e){return e.value})))},value:f.map((function(e){return{label:e,value:e}})),placeholder:"Find..."}),Object(u.jsx)(Be,{loading:t,children:Object(u.jsx)(u.Fragment,{children:O.map((function(e){return Object(u.jsxs)(Ce,{children:[Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:e.tokenImageUrl,onError:function(e){return e.target.src="assets/placeholder-image.png"},alt:e.tokenName})}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:e.tokenName}),Object(u.jsx)("div",{className:"symbol",children:e.tokenSymbol}),Object(u.jsx)("div",{className:"address",children:e.mintAddress.toBase58()}),e.tags.length>0&&Object(u.jsx)("div",{className:"tags",children:e.tags.map((function(n){return Object(u.jsx)("div",{className:"tag",style:{background:f.includes(n)?M.white:"none",color:f.includes(n)?M.darkBlue:M.white},onClick:function(){return f.includes(n)?b(f.filter((function(e){return e!==n}))):b([].concat(Object(Pe.a)(f),[n]))},children:n},"".concat(e.mintAddress.toBase58(),"_").concat(n))}))}),Object(u.jsx)(E,{onClick:function(){return h.includes(e.mintAddress.toBase58())?x(h.filter((function(n){return n!==e.mintAddress.toBase58()}))):x([].concat(Object(Pe.a)(h),[e.mintAddress.toBase58()]))},selected:h.includes(e.mintAddress.toBase58()),children:Object(u.jsx)("svg",{className:"Icon_icon__2NnUo inline-block mr-1 h-3 w-3 align-baseline PlayerSummary_favoritedDisabled__3-f5T",role:"img","aria-label":"Favorite Player Button Star",xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M4 6L1.649 7.236l.449-2.618L.196 2.764l2.628-.382L4 0l1.176 2.382 2.628.382-1.902 1.854.45 2.618z"})})})]})]},e.mintAddress.toBase58())}))})})]})})};var Fe,We,ze=function(){var e=Object(m.b)(),n=f(),t=Object(r.useState)(null),o=Object(i.a)(t,2),c=o[0],a=o[1],s=j(),l=Object(i.a)(s,2),d=l[0],p=l[1],b=function(e,n){var t=f(),o=Object(m.b)(),c=Object(r.useState)(null),a=Object(i.a)(c,2),s=a[0],u=a[1];return Object(r.useEffect)((function(){var r=setInterval(function r(){return t&&te(t).then((function(n){u(n),e([])})).catch((function(t){e([]),u(null),n("".concat(t))})),r}(),1e3);return function(){return clearInterval(r)}}),[e,o,t,n]),Object(r.useEffect)((function(){return e(null),function(){}}),[t,e]),s}(a,p),g=function(){var e=Object(m.b)(),n=f(),t=Object(r.useState)(null),o=Object(i.a)(t,2),c=o[0],a=o[1];return Object(r.useEffect)((function(){return function(){var t=Object(B.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.connected&&G(n).then((function(e){return a(e)})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){}}),[e,n]),c}(),h=Object(r.useState)([]),x=Object(i.a)(h,2),v=x[0],O=x[1],k=Object(r.useState)([]),y=Object(i.a)(k,2),w=y[0],S=y[1],T=b&&b.pendingTokenInfos||[],I=v.length>0?T.filter((function(e){return v.some((function(n){return e.tokenInfo.tags.includes(n)}))})):T,A=Object(Pe.a)(I).sort((function(e,n){return w.includes(e.tokenInfo.mintAddress)&&w.includes(n.tokenInfo.mintAddress)?0:w.includes(e.tokenInfo.mintAddress)?-1:w.includes(n.tokenInfo.mintAddress)?1:0}));console.log(c);var C=Math.floor(Date.now()/1e3);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Ee,{children:[d,Object(u.jsx)(be,{isMulti:!0,options:Array.from(T.reduce((function(e,n){return n.tokenInfo.tags.forEach(e.add,e),e}),new Set)).map((function(e){return{label:e,value:e}})),onChange:function(e){return O(e.map((function(e){return e.value})))},value:v.map((function(e){return{label:e,value:e}})),placeholder:"Find..."}),A.some((function(e){return e.expiration.toNumber()<=C}))&&Object(u.jsx)(N,{style:{marginLeft:"auto",marginRight:"auto"},disabled:!e||!e.connected,onClick:Object(B.a)(P.a.mark((function t(){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(null),t.next=4,ae(e,n,b.votingTokenMint);case 4:r=t.sent,a(null),ue({message:"Succes",description:"You have cleaned up expired tokens. Be sure to check votes on those that are complete",txid:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),p("".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),children:"Cleanup"}),Object(u.jsx)(Be,{loading:null==c,children:Object(u.jsx)(u.Fragment,{children:A.map((function(t){return Object(u.jsx)(Ce,{children:Object(u.jsxs)(Be,{loading:c&&c.includes(t.tokenInfo.mintAddress.toBase58()),children:[Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:t.tokenInfo.tokenImageUrl,alt:t.tokenInfo.tokenName})}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("div",{className:"title",children:t.tokenInfo.tokenName}),Object(u.jsx)("div",{className:"symbol",children:t.tokenInfo.tokenSymbol}),Object(u.jsx)("div",{className:"address",children:t.tokenInfo.mintAddress.toBase58()}),t.tokenInfo.tags.length>0&&Object(u.jsx)("div",{className:"tags",children:t.tokenInfo.tags.map((function(e){return Object(u.jsx)("div",{className:"tag",style:{background:v.includes(e)?M.white:"none",color:v.includes(e)?M.darkBlue:M.white},onClick:function(){return v.includes(e)?O(v.filter((function(n){return n!==e}))):O([].concat(Object(Pe.a)(v),[e]))},children:e},"".concat(t.tokenInfo.mintAddress.toBase58(),"_").concat(e))}))}),Object(u.jsx)(E,{onClick:function(){return w.includes(t.tokenInfo.mintAddress)?S(w.filter((function(e){return e!==t.tokenInfo.mintAddress}))):S([].concat(Object(Pe.a)(w),[t.tokenInfo.mintAddress]))},selected:w.includes(t.tokenInfo.mintAddress),children:Object(u.jsx)("svg",{className:"Icon_icon__2NnUo inline-block mr-1 h-3 w-3 align-baseline PlayerSummary_favoritedDisabled__3-f5T",role:"img","aria-label":"Favorite Player Button Star",xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M4 6L1.649 7.236l.449-2.618L.196 2.764l2.628-.382L4 0l1.176 2.382 2.628.382-1.902 1.854.45 2.618z"})})}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(N,{width:"100px",disabled:!e||!e.connected,onClick:Object(B.a)(P.a.mark((function r(){var o;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,p(null),r.next=4,$(e,n,t.tokenInfo.mintAddress,b.votingTokenMint);case 4:o=r.sent,a([].concat(Object(Pe.a)(c),[t.tokenInfo.mintAddress.toBase58()])),ue({message:"Succes",description:"You have voted for this token",txid:o}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),p("".concat(r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,9]])}))),children:"Vote"}),(t.expiration.toNumber()>=C||t.votes.toNumber()>=0)&&Object(u.jsx)(N,{disabled:!e||!e.connected,onClick:Object(B.a)(P.a.mark((function r(){var o;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,p(null),r.next=4,oe(e,n,t.tokenInfo.mintAddress,b.votingTokenMint);case 4:o=r.sent,a([].concat(Object(Pe.a)(c),[t.tokenInfo.mintAddress.toBase58()])),ue({message:"Succes",description:"You have attempted to check the vote for this token",txid:o}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),p("".concat(r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,9]])}))),children:"Check Vote"})]}),Object(u.jsx)("div",{className:"expiration",children:t.expiration.toNumber()>=C?"".concat(Math.floor((t.expiration.toNumber()-C)/60/60/24),"d ").concat(Math.floor((t.expiration.toNumber()-C)/60/60%24),"h ").concat(Math.floor((t.expiration.toNumber()-C)/60%60),"m ").concat(Math.floor((t.expiration.toNumber()-C)%60),"s"):"EXPIRED (Check Vote)"}),Object(u.jsxs)("div",{className:"progress-outer",children:[Object(u.jsx)("div",{className:"progress",style:{width:"".concat(100*t.votes.toNumber()/(g&&g.supply.toNumber())||1,"%")}}),Object(u.jsx)("div",{className:"text",children:Object(u.jsxs)("span",{children:[t.votes.toNumber()," / ",g&&g.supply.toNumber()||"..."]})})]})]})]})},t.tokenInfo.mintAddress.toBase58())}))})})]})})},_e=I.a.div(Fe||(Fe=Object(T.a)(["\n  width: 100%;\n  max-width: 600px;\n  margin: 0px auto;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n"]))),De=I.a.div(We||(We=Object(T.a)(["\n  .prompt {\n    color: ",";\n    margin: 10px 0px;\n  }\n  input {\n    border: ",";\n    border-radius: 4px;    \n    color: ",";\n    padding: 6px;\n    background: none;\n    outline: none;\n    width: 100%;\n  }\n"])),M.white,M.border,M.white);var Re=function(){var e=j(),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(m.b)(),a=f(),l=Object(r.useState)(""),d=Object(i.a)(l,2),p=d[0],b=d[1],g=Object(r.useState)(""),h=Object(i.a)(g,2),x=h[0],v=h[1],O=Object(r.useState)(""),k=Object(i.a)(O,2),y=k[0],w=k[1],S=Object(r.useState)(""),T=Object(i.a)(S,2),I=T[0],M=T[1],A=Object(r.useState)([]),E=Object(i.a)(A,2),C=E[0],K=E[1],V=Object(r.useState)(!1),F=Object(i.a)(V,2),W=F[0],z=F[1];return Object(u.jsxs)(_e,{children:[t,Object(u.jsxs)(Be,{loading:W,children:[Object(u.jsxs)(De,{children:[Object(u.jsx)("div",{className:"prompt",children:"Mint Address"}),Object(u.jsx)("input",{onChange:function(e){return b(e.target.value)},value:p})]}),Object(u.jsxs)(De,{children:[Object(u.jsx)("div",{className:"prompt",children:"Name"}),Object(u.jsx)("input",{onChange:function(e){return v(e.target.value)},value:x})]}),Object(u.jsxs)(De,{children:[Object(u.jsx)("div",{className:"prompt",children:"Symbol"}),Object(u.jsx)("input",{onChange:function(e){return w(e.target.value)},value:y})]}),Object(u.jsxs)(De,{children:[Object(u.jsx)("div",{className:"prompt",children:"Image URL"}),Object(u.jsx)("input",{onChange:function(e){return M(e.target.value)},value:I})]}),Object(u.jsxs)(De,{children:[Object(u.jsx)("div",{className:"prompt",children:"Tags"}),Object(u.jsx)(be,{style:{marginTop:"10px"},isMulti:!0,options:["defi","ethereum","wrapper","wormhole","utility-token","social-token","tokenized-stock","stablecoin"].map((function(e){return{label:e,value:e}})),onChange:function(e){return K(e.map((function(e){return e.value})))},value:C.map((function(e){return{label:e,value:e}})),placeholder:"Tags..."})]}),Object(u.jsx)(N,{style:{marginBottom:"0px"},disabled:!c||!c.connected,onClick:Object(B.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,X(c,a,{mintAddress:new s.PublicKey(p),tokenName:x,tokenSymbol:y,tokenImageUrl:I,tags:C});case 4:n=e.sent,z(!1),b(""),v(""),w(""),M(""),K([]),ue({message:"Succes",description:"Token proposed succesfully",txid:n}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),z(!1),o("".concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),children:"Submit"})]})]})};function Ge(){return Object(u.jsx)(p,{children:Object(u.jsx)(m.a,{wallets:[Object(k.a)()],autoConnect:!0,children:Object(u.jsx)(y.a,{children:Object(u.jsx)(h,{children:Object(u.jsx)(w.a,{basename:"/",children:Object(u.jsxs)(S.c,{children:[Object(u.jsx)(S.a,{exact:!0,path:"/",component:function(){return Object(u.jsx)(we,{selected:xe.FIND,children:Object(u.jsx)(Ae,{children:Object(u.jsx)(Ve,{})})})}}),Object(u.jsx)(S.a,{exact:!0,path:"/vote",component:function(){return Object(u.jsx)(we,{selected:xe.VOTE,children:Object(u.jsx)(Ae,{children:Object(u.jsx)(ze,{})})})}}),Object(u.jsx)(S.a,{exact:!0,path:"/propose",component:function(){return Object(u.jsx)(we,{selected:xe.PROPOSE,children:Object(u.jsx)(Ae,{children:Object(u.jsx)(Re,{})})})}})]})})})})})})}var Le=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,531)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),r(e),o(e),c(e),a(e)}))};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(Ge,{})}),document.getElementById("root")),Le()}},[[528,1,2]]]);
//# sourceMappingURL=main.8e6cb0c2.chunk.js.map